# ============================================
# Smart Pantry - Environment Variables Example
# ============================================
# Kopiere diese Datei zu .env und fülle sie mit echten Werten
# cp .env.example .env
# ============================================
# Diese Datei enthält ALLE benötigten Variablen für:
# - Docker Compose (PostgreSQL, Ports)
# - Backend Server (API Keys, Quotas, Secrets)
# - Frontend (NEXT_PUBLIC_* Variablen)
# ============================================

# ============================================
# PostgreSQL Database Configuration
# ============================================
POSTGRES_DB=smart_pantry
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# PostgreSQL Port (externer Port, der nach außen gemappt wird)
# WICHTIG: Wähle einen individuellen Port um Kollisionen mit anderen Services zu vermeiden!
# Beispiel-Ports: 5433, 5434, 15432, 25432, etc.
# Der interne Container-Port bleibt immer 5432
POSTGRES_PORT=CHANGE_TO_YOUR_PREFERRED_PORT

# ============================================
# Port Configuration
# ============================================
FRONTEND_PORT=3000
BACKEND_PORT=8000

# ============================================
# Database Connection
# ============================================
# PRODUKTION (Docker Compose):
# Wird automatisch aus POSTGRES_* Variablen gebaut (siehe compose.example.yaml)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# LOKALE ENTWICKLUNG (ohne Docker):
# Setze diese Variable manuell für lokale Entwicklung:
# DATABASE_URL=postgresql://postgres:password@localhost:CHANGE_TO_YOUR_PREFERRED_PORT/smart_pantry?schema=public
#
# Für Docker Compose wird diese Variable automatisch gesetzt, du musst sie hier nicht setzen.
# Setze diese Variable manuell für lokale Entwicklung:
# DATABASE_URL=postgresql://postgres:password@localhost:CHANGE_TO_YOUR_PREFERRED_PORT/smart_pantry?schema=public
#
# WICHTIG: Für Docker Compose wird DATABASE_URL automatisch aus POSTGRES_* Variablen gebaut (siehe compose.yml)
# Diese Zeile wird in Docker Compose überschrieben und muss NICHT angepasst werden.
# Nur für lokale Entwicklung ohne Docker: Entferne das # oben und passe an.
# DATABASE_URL=postgresql://postgres:CHANGE_ME_SECURE_PASSWORD@localhost:CHANGE_TO_YOUR_PREFERRED_PORT/smart_pantry?schema=public
# Diese Zeile wird in Docker Compose überschrieben und muss NICHT angepasst werden.
# Nur für lokale Entwicklung ohne Docker: Entferne das # und passe an.
# DATABASE_URL=postgresql://postgres:CHANGE_ME_SECURE_PASSWORD@localhost:CHANGE_TO_YOUR_PREFERRED_PORT/smart_pantry?schema=public

# ============================================
# Security & Authentication
# ============================================
# JWT Secret für Token-Signierung (mindestens 32 Zeichen, zufällig)
# Generieren mit: openssl rand -base64 32
JWT_SECRET=YOUR_JWT_SECRET_HERE

# Verschlüsselungs-Key für sensible Nutzerdaten (DSGVO-konform)
# Muss genau 64 Zeichen Hex-String sein (32 Byte)
# Generieren mit: openssl rand -hex 32
PERSONAL_DATA_KEY=YOUR_64_CHAR_HEX_ENCRYPTION_KEY_HERE

# ============================================
# Authentication Settings
# ============================================
# Login deaktivieren (nur für Demo/Präsentationen)
AUTH_DISABLED=false

# Demo-User Credentials (nur wenn AUTH_DISABLED=true)
DEMO_USER_EMAIL=demo@smartpantry.app
DEMO_USER_NAME=Demo User
DEMO_USER_PASSWORD=demo123

# Refresh Token Gültigkeitsdauer (in Millisekunden)
# Standard: 30 Tage = 2592000000
REFRESH_TOKEN_TTL_MS=2592000000

# ============================================
# API Keys
# ============================================
# Google Gemini API Key (für KI-Bildanalyse und Chat)
# Erhältlich unter: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE

# Spoonacular API Key (für Rezeptvorschläge)
# Erhältlich unter: https://spoonacular.com/food-api
SPOONACULAR_API_KEY=YOUR_SPOONACULAR_API_KEY_HERE

# GitHub Token (optional, für automatische Issue-Erstellung)
# Erstellt unter: https://github.com/settings/tokens
# Benötigt: repo scope
GITHUB_TOKEN=YOUR_GITHUB_TOKEN_HERE

# ============================================
# Quota Configuration (INTERN)
# ============================================
# Diese Werte sind interne Business-Logik und sollten NICHT öffentlich sein.
# Setze hier deine tatsächlichen Kosten pro Aktion.
# 
# WICHTIG: Diese Werte basieren auf aktuellen API-Preisen (2024/2025).
# Passe sie regelmäßig an, wenn sich die API-Preise ändern!

# Quota-Reset-Intervall (in Millisekunden)
# Standard: 30 Tage = 2592000000
QUOTA_RESET_INTERVAL_MS=2592000000

# LLM Token-Kosten pro Aktion (basierend auf Gemini 2.5 Flash)
# Chat: ~1500 Tokens (500 Input + 1000 Output) = ~$0.00034
LLM_TOKEN_COST_CHAT=0.00034

# Übersetzung: ~300 Tokens (100 Input + 200 Output) = ~$0.0000675
LLM_TOKEN_COST_TRANSLATION=0.0000675

# Foto-Analyse: ~2000 Tokens (1000 Input + 1000 Output) = ~$0.000375
LLM_TOKEN_COST_ANALYZE=0.000375

# Rezept-API Kosten pro Aufruf (Spoonacular)
# Rezeptvorschläge: ~$0.02 pro Request (konservativ)
RECIPE_CALL_COST_ANALYZE=0.02
# - JWT_SECRET sollte mindestens 32 Zeichen lang sein
# - Quota-Werte sind INTERN und sollten nicht öffentlich gemacht werden
# - Diese Datei wird sowohl von Docker Compose als auch vom Backend genutzt
