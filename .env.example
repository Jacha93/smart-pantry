# ============================================
# Smart Pantry - Environment Variables Example
# ============================================
# Kopiere diese Datei zu .env und fülle sie mit echten Werten
# cp .env.example .env
# ============================================
# Diese Datei enthält ALLE benötigten Variablen für:
# - Docker Compose (PostgreSQL, Ports)
# - Backend Server (API Keys, Quotas, Secrets)
# - Frontend (NEXT_PUBLIC_* Variablen)
# ============================================

# ============================================
# PostgreSQL Database Configuration
# ============================================
POSTGRES_DB=smart_pantry
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD

# PostgreSQL Port (externer Port, der nach außen gemappt wird)
# WICHTIG: Wähle einen individuellen Port um Kollisionen mit anderen Services zu vermeiden!
# Beispiel-Ports: 5433, 5434, 15432, 25432, etc.
# Der interne Container-Port bleibt immer 5432
POSTGRES_PORT=CHANGE_TO_YOUR_PREFERRED_PORT

# ============================================
# Port Configuration
# ============================================
FRONTEND_PORT=3000
BACKEND_PORT=8000

# ============================================
# Database Connection
# ============================================
# PRODUKTION (Docker Compose):
# Wird automatisch aus POSTGRES_* Variablen gebaut (siehe compose.example.yaml)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public
#
# LOKALE ENTWICKLUNG (ohne Docker):
# Setze diese Variable manuell für lokale Entwicklung:
# DATABASE_URL=postgresql://postgres:password@localhost:CHANGE_TO_YOUR_PREFERRED_PORT/smart_pantry?schema=public
#
# Für Docker Compose wird diese Variable automatisch gesetzt, du musst sie hier nicht setzen.
DATABASE_URL=postgresql://postgres:CHANGE_ME_SECURE_PASSWORD@smart-pantry-postgres:5432/smart_pantry?schema=public

# ============================================
# Security & Authentication
# ============================================
# JWT Secret für Token-Signierung (mindestens 32 Zeichen, zufällig)
# Generieren mit: openssl rand -base64 32
JWT_SECRET=YOUR_JWT_SECRET_HERE

# Verschlüsselungs-Key für sensible Nutzerdaten (DSGVO-konform)
# Muss genau 64 Zeichen Hex-String sein (32 Byte)
# Generieren mit: openssl rand -hex 32
PERSONAL_DATA_KEY=YOUR_64_CHAR_HEX_ENCRYPTION_KEY_HERE

# ============================================
# Authentication Settings
# ============================================
# Login deaktivieren (nur für Demo/Präsentationen)
AUTH_DISABLED=false

# Demo-User Credentials (nur wenn AUTH_DISABLED=true)
DEMO_USER_EMAIL=demo@smartpantry.app
DEMO_USER_NAME=Demo User
DEMO_USER_PASSWORD=demo123

# Refresh Token Gültigkeitsdauer (in Millisekunden)
# Standard: 30 Tage = 2592000000
REFRESH_TOKEN_TTL_MS=2592000000

# ============================================
# API Keys
# ============================================
# Google Gemini API Key (für KI-Bildanalyse und Chat)
# Erhältlich unter: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=YOUR_GEMINI_API_KEY_HERE

# Spoonacular API Key (für Rezeptvorschläge)
# Erhältlich unter: https://spoonacular.com/food-api
SPOONACULAR_API_KEY=YOUR_SPOONACULAR_API_KEY_HERE

# GitHub Token (optional, für automatische Issue-Erstellung)
# Erstellt unter: https://github.com/settings/tokens
# Benötigt: repo scope
GITHUB_TOKEN=

# ============================================
# Quota Configuration (INTERN - Nicht öffentlich machen!)
# ============================================
# Diese Werte sind interne Business-Logik und sollten NICHT öffentlich sein.
# Setze hier deine tatsächlichen Kosten pro Aktion.

# Quota-Reset-Intervall (in Millisekunden)
# Standard: 30 Tage = 2592000000
QUOTA_RESET_INTERVAL_MS=2592000000

# LLM Token-Kosten pro Aktion (INTERN!)
LLM_TOKEN_COST_CHAT=YOUR_LLM_TOKEN_COST_CHAT
LLM_TOKEN_COST_TRANSLATION=YOUR_LLM_TOKEN_COST_TRANSLATION
LLM_TOKEN_COST_ANALYZE=YOUR_LLM_TOKEN_COST_ANALYZE

# Rezept-API Kosten pro Aufruf (INTERN!)
RECIPE_CALL_COST_ANALYZE=YOUR_RECIPE_CALL_COST_ANALYZE

# ============================================
# Frontend Configuration
# ============================================
# Backend API URL (für Frontend)
# In Docker Compose: http://localhost:8000 (oder deine Domain)
# Lokal: http://localhost:8000
NEXT_PUBLIC_API_URL=http://localhost:8000

# Login deaktivieren im Frontend (nur für Demo/Präsentationen)
NEXT_PUBLIC_AUTH_DISABLED=false

# ============================================
# Notes
# ============================================
# - Alle Passwörter und Secrets sollten stark und zufällig sein
# - PERSONAL_DATA_KEY muss genau 64 Hex-Zeichen sein
# - JWT_SECRET sollte mindestens 32 Zeichen lang sein
# - Quota-Werte sind INTERN und sollten nicht öffentlich gemacht werden
# - Diese Datei wird sowohl von Docker Compose als auch vom Backend genutzt
